<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>股票K线图 - MoneyMore</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <button class="theme-toggle" id="themeToggle" title="切换夜间模式">
        ◑
    </button>
    <div class="container">
        <div class="header">

            <div class="subtitle">数据来源：Tushare | 更新时间：<span id="updateTime"></span></div>
        </div>
        
        <div class="controls">
            <div class="control-group">
                <label for="stockSearch">选择股票：</label>
                <div class="stock-search-container">
                    <input type="text" id="stockSearch" class="stock-search-input" placeholder="输入股票代码或名称搜索..." autocomplete="off">
                    <div id="stockDropdown" class="stock-dropdown"></div>
                </div>
            </div>
            <div class="control-group">
                <label for="periodSelect">时间跨度：</label>
                <select id="periodSelect">
                    <option value="1Y" selected>1年</option>
                    <option value="2Y">2年</option>
                    <option value="3Y">3年</option>
                    <option value="4Y">4年</option>
                    <option value="5Y">5年</option>
                    <option value="6Y">6年</option>
                    <option value="7Y">7年</option>
                    <option value="8Y">8年</option>
                    <option value="9Y">9年</option>
                    <option value="10Y">10年</option>
                </select>
            </div>
            <div class="control-group">
                <label for="adjSelect">复权方式：</label>
                <select id="adjSelect">
                    <option value="qfq" selected>前复权</option>
                    <option value="hfq">后复权</option>
                    <option value="">不复权</option>
                </select>
            </div>
            <div class="control-group">
                <label for="earningsToggle">财报日标记：</label>
                <div class="toggle-switch">
                    <input type="checkbox" id="earningsToggle" class="toggle-input">
                    <label for="earningsToggle" class="toggle-label">
                        <span class="toggle-slider"></span>
                        <span class="toggle-text"></span>
                    </label>
                </div>
            </div>

        </div>
        
        <div id="chart">
            <div class="loading">正在加载K线图数据...</div>
        </div>
        
        <div class="stats" id="stats" style="display: none;">
            <div class="stat-item">
                <div class="stat-value" id="stockName">-</div>
                <div class="stat-label">股票名称</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="totalDays">-</div>
                <div class="stat-label">交易日数</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="startPrice">-</div>
                <div class="stat-label">起始价格</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="endPrice">-</div>
                <div class="stat-label">结束价格</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="totalReturn">-</div>
                <div class="stat-label">股价收益率</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="maxPrice">-</div>
                <div class="stat-label">最高价</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="minPrice">-</div>
                <div class="stat-label">最低价</div>
            </div>
        </div>
    </div>
    
    <script src="/static/js/kline.js"></script>
</body>
</html>